#Web Enumeration
 Webservers host web applications which often provide a considerable attack surface and a very high-value target during a penetration test.

##Gobuster
  Always check to see if we can uncover any hidden files or directories on the webserver that are not intended for public access.
  We can use a tool such as ffuf or GoBuster to perform this directory enumeration.

##Directory/File Enumeration
  GoBuster is a versatile tool that allows for performing DNS, vhost, and directory brute-forcing.
  we focus on directory (and file) brute-forcing modes specified with the switch 'dir'. 

Let us run a simple scan using the 'dirb common.txt' wordlist.

securescripter@htb[/htb]$ gobuster dir -u http://10.10.10.121/ -w /usr/share/dirb/wordlists/common.txt

===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://10.10.10.121/
[+] Threads:        10
[+] Wordlist:       /usr/share/dirb/wordlists/common.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2020/12/11 21:47:25 Starting gobuster
===============================================================
/.hta (Status: 403)
/.htpasswd (Status: 403)
/.htaccess (Status: 403)
/index.php (Status: 200)
/server-status (Status: 403)
/wordpress (Status: 301)
===============================================================
2020/12/11 21:47:46 Finished
===============================================================

200 HTTP status code : resource's request was successful.
403 HTTP status code : we are forbidden to access the resource. 
301 status code : we are being redirected.

WordPress is the most commonly used CMS (Content Management System) and has an enormous potential attack surface. 
n this case, visiting http://10.10.10.121/wordpress in a browser reveals that WordPress is still in setup mode, which will allow us to gain remote code execution (RCE) on the server.

##DNS Subdomain Enumeration
  We can use GoBuster to enumerate available subdomains of a given domain using the 'dns' flag to specify DNS mode.

let us clone the SecLists GitHub repo, which contains many useful lists for fuzzing and exploitation:

###Install SecLists
   git clone https://github.com/danielmiessler/SecLists
   sudo apt install seclists -y

add a DNS Server such as 1.1.1.1 to the '/etc/resolv.conf' file.
We will target the domain inlanefreight.com.

securescripter@htb[/htb]$ gobuster dns -d inlanefreight.com -w /usr/share/SecLists/Discovery/DNS/namelist.txt

===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Domain:     inlanefreight.com
[+] Threads:    10
[+] Timeout:    1s
[+] Wordlist:   /usr/share/SecLists/Discovery/DNS/namelist.txt
===============================================================
2020/12/17 23:08:55 Starting gobuster
===============================================================
Found: blog.inlanefreight.com
Found: customer.inlanefreight.com
Found: my.inlanefreight.com
Found: ns1.inlanefreight.com
Found: ns2.inlanefreight.com
Found: ns3.inlanefreight.com
===============================================================
2020/12/17 23:10:34 Finished
===============================================================

This scan reveals several interesting subdomains that we could examine further.


##Web Enumeration Tips
  #Banner Grabbing / Web Server Headers
   Web server headers provide a good picture of what is hosted on a web server. 
   We can use 'cURL' to retrieve server header information from the command line.


curl -IL https://www.inlanefreight.com

HTTP/1.1 200 OK
Date: Fri, 18 Dec 2020 22:24:05 GMT
Server: Apache/2.4.29 (Ubuntu)
Link: <https://www.inlanefreight.com/index.php/wp-json/>; rel="https://api.w.org/"
Link: <https://www.inlanefreight.com/>; rel=shortlink
Content-Type: text/html; charset=UTF-8

Another handy tool is 'EyeWitness', which can be used to take screenshots of target web applications, fingerprint them, and identify possible default credentials.

###Whatweb
   We can extract the version of web servers, supporting frameworks, and applications using the command-line tool 'whatweb'.

   securescripter@htb[/htb]$ whatweb 10.10.10.121

   http://10.10.10.121 [200 OK] Apache[2.4.41], Country[RESERVED][ZZ], Email[license@php.net], HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], 
   IP[10.10.10.121], Title[PHP 7.4.3 - phpinfo()]

###Certificates
   SSL/TLS certificates are another potentially valuable source of information if HTTPS is in use.
   viewing the certificate reveals the details including the email address and company name. 
   These could potentially be used to conduct a phishing attack.

###Robots.txt
   robots.txt file: whose purpose is to instruct search engine web crawlers such as Googlebot which resources can and cannot be accessed for indexing. 
   provide valuable information : location of private files and admin pages. 

###Source Code
   We can hit [CTRL + U] to bring up the source code window in a browser.
   
                   
   
